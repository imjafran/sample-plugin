name: WPCS PHP 7.4

on: [push]

env:
  PHP_VERSION: 7.4

jobs:
  wpcs:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        php-version: [$PHP_VERSION]
    name: PHP ${{ matrix.php-version }} WPCS Check
    steps:
    - name: Checkout code
      uses: actions/checkout@v2
    - name: Set up PHP
      uses: shivammathur/setup-php@v1
      with:
        php-version: ${{ matrix.php-version }}
    - name: Install dependencies
      run: |
        composer install
    - name: Run WPCS checks
      run: |
        ./vendor/bin/phpcs . --standard=./vendor/wp-coding-standards/wpcs/WordPress
